
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Lightning Gifts API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#create-gift" class="toc-h1 toc-link" data-title="Create Gift">Create Gift</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create" class="toc-h2 toc-link" data-title="/create">/create</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#check-gift-invoice-status" class="toc-h1 toc-link" data-title="Check Gift Invoice Status">Check Gift Invoice Status</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#invoice_status" class="toc-h2 toc-link" data-title="/invoice_status">/invoice_status</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#redeem-gift" class="toc-h1 toc-link" data-title="Redeem Gift">Redeem Gift</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#redeem" class="toc-h2 toc-link" data-title="/redeem">/redeem</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#check-gift-redeem-status" class="toc-h1 toc-link" data-title="Check Gift Redeem Status">Check Gift Redeem Status</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#redeem_status" class="toc-h2 toc-link" data-title="/redeem_status">/redeem_status</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Kittn API! You can use our API to access Kittn API endpoints, which can get information on various cats, kittens, and breeds in our database.</p>

<p>We have language bindings in Shell, Ruby, Python, and JavaScript! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>This example API documentation page was created with <a href="https://github.com/lord/slate">Slate</a>. Feel free to edit it and use it as a base for your own API&#39;s documentation.</p>

<!---
# Authentication

> To authorize, use this code:

```javascript
const kittn = require('kittn');

let api = kittn.authorize('meowmeowmeow');
```

> Make sure to replace `meowmeowmeow` with your API key.

Kittn uses API keys to allow access to the API. You can register a new Kittn API key at our [developer portal](http://example.com/developers).

Kittn expects for the API key to be included in all API requests to the server in a header that looks like the following:

`Authorization: meowmeowmeow`

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside>
-->
<h1 id='create-gift'>Create Gift</h1><h2 id='create'>/create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'axios'</span><span class="p">);</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'https://api.lightning.gifts/create'</span><span class="p">,</span> <span class="p">{</span> <span class="na">amount</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span> <span class="na">notify</span><span class="p">:</span> <span class="s1">'https://your webhook url'</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
</code></pre>
<blockquote>
<p>200 OK:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03a1fb575647d7d79909785c2648e98397ec15e6d6d2562d"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"charge_id"</span><span class="p">:</span><span class="w">  </span><span class="s2">"340c81e5-575a-4ff2-9cb6-d6cfe6e953ea"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w">  </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lightning_invoice"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566215853</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payreq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LNBC..."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lnurl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lnurl..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a BOLT-11 invoice for a new Lightning Gift. </p>

<p>After paying the invoice, the Lightning Gift will be created. The gift can then be redeemed at <code>https://lightning.gifts/redeem/{order_id}</code> 
or using the <code>lnurl</code>.</p>
<h3 id='https-request'>HTTPS Request</h3>
<p><code>POST https://api.lightning.gifts/create</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>amount</code></td>
<td>number</td>
<td><em>Required</em> Amount of the gift in Satoshis</td>
</tr>
<tr>
<td><code>notify</code></td>
<td>string</td>
<td><em>Optional</em> URL to receive webhook when gift is redeemed. Must start with <code>http</code> or <code>https</code></td>
</tr>
</tbody></table>
<h1 id='check-gift-invoice-status'>Check Gift Invoice Status</h1><h2 id='invoice_status'>/invoice_status</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'axios'</span><span class="p">);</span>

<span class="k">return</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">`https://api.lightning.gifts/status/</span><span class="p">${</span><span class="nx">charge_id</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
</code></pre>
<blockquote>
<p>200 OK:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w">  </span><span class="s2">"unpaid/processing/paid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the status of an invoice generated from <code>/create</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.lightning.gifts/status/&lt;charge_id&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>charge_id</code></td>
<td>string</td>
<td><em>Required</em> Charge ID of invoice created in <code>/create</code></td>
</tr>
</tbody></table>
<h1 id='redeem-gift'>Redeem Gift</h1><h2 id='redeem'>/redeem</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'axios'</span><span class="p">);</span>

<span class="k">return</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s2">`https://api.lightning.gifts/redeem/</span><span class="p">${</span><span class="nx">order_id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span> <span class="na">invoice</span><span class="p">:</span> <span class="s1">'LNBC...'</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
</code></pre>
<blockquote>
<p>200 OK:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"withdrawal_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba8f8f99-8b03-4b22-9275-4bf2b8e3e7c2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Redeem a Lightning Gift. </p>

<p>Invoice must be for <strong>exactly</strong> the same amount of the gift.</p>

<p>Returns a <code>withdrawal_id</code> that you can use to check the status of the gift redeem using <code>/redeemStatus</code>. </p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.lightning.gifts/redeem/&lt;order_id&gt;</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>order_id</code></td>
<td>string</td>
<td><em>Required</em> Order ID from <code>/create</code></td>
</tr>
</tbody></table>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>invoice</code></td>
<td>string</td>
<td><em>Required</em> BOLT-11 invoice to receive the gift</td>
</tr>
</tbody></table>
<h1 id='check-gift-redeem-status'>Check Gift Redeem Status</h1><h2 id='redeem_status'>/redeem_status</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'axios'</span><span class="p">);</span>

<span class="k">return</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">`https://api.lightning.gifts/redeemStatus/</span><span class="p">${</span><span class="nx">withdrawal_id</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
</code></pre>
<blockquote>
<p>200 OK:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LNBC..."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"initial/confirmed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the status of a gift redeem using <code>/redeem</code>. <code>reference</code> is the BOLT-11 invoice that was used.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.lightning.gifts/redeemStatus/&lt;withdrawal_id&gt;</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>withdrawal_id</code></td>
<td>string</td>
<td><em>Required</em> Withdrawal ID provided by <code>/redeem</code></td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
